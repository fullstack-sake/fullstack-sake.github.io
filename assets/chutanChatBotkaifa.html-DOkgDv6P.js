import{_ as e,r as l,o as p,c as i,d as s,e as n,a as c,b as a}from"./app-WuGmklff.js";const o="/assets/image-20230730180625124-DqDez0Gi.webp",r="/assets/IMG_20230521_160416-BR_rTIyF.webp",u="/assets/image-20230521170331063-CJprHBu8.webp",m="/assets/image-20230521175948221-D-5y7lxN.webp",d="/assets/image-20230521202250709-CcjYarQJ.webp",h="/assets/image-20230521202719903-BHrseaGZ.webp",k="/assets/image-20230521204353342-Bt0Gpadc.webp",v="/assets/image-20230521204624865-CF6jsthg.webp",g="/assets/image-20230521205636665-CnSiFKek.webp",b="/assets/image-20230521215638791-B29tBw4c.webp",y="/assets/image-20230521212825712-DUxFrpyC.webp",_="/assets/IMG_20230522_185228-C0PV4n_K.webp",w={},x=a('<blockquote><p>一方水土养一方人，抽象话养抽象机器人🤣</p><p>初探聊天机器人开发，实现学习群聊记录，进行群聊天😋</p></blockquote><p><img src="'+o+`" alt="image-20230730180625124"></p><blockquote><p>🚧施工中，本页面还未完成（咕咕</p></blockquote><h2 id="🤖chatbot的可行性" tabindex="-1"><a class="header-anchor" href="#🤖chatbot的可行性"><span>🤖ChatBot的可行性</span></a></h2><p>这是一个基于GPT-2模型的Chatbot，语料是经过清洗的我的某些群聊记录，下面是几则对话记录：</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="line">user<span class="token punctuation">:</span>今天群友都在干嘛</span>
<span class="line">chatbot<span class="token punctuation">:</span>在学校卷</span>
<span class="line">user<span class="token punctuation">:</span>你是不是在卷</span>
<span class="line">chatbot<span class="token punctuation">:</span>我也在</span>
<span class="line">user<span class="token punctuation">:</span>你不许搞学术</span>
<span class="line">chatbot<span class="token punctuation">:</span>猫娘听不懂</span>
<span class="line">user<span class="token punctuation">:</span>你还猫娘是吧</span>
<span class="line">chatbot<span class="token punctuation">:</span>不知道，我还以为我是猫娘</span>
<span class="line">user<span class="token punctuation">:</span>你就一机器人</span>
<span class="line">chatbot<span class="token punctuation">:</span>我是什么臭鱼烂虾</span>
<span class="line">user<span class="token punctuation">:</span>你不是臭鱼烂虾</span>
<span class="line">chatbot<span class="token punctuation">:</span>这就去图书馆卷了</span>
<span class="line">user<span class="token punctuation">:</span>又卷？</span>
<span class="line">chatbot<span class="token punctuation">:</span>摆了一天了</span>
<span class="line">==========================也会有语无伦次的部分=====================================</span>
<span class="line">user<span class="token punctuation">:</span>锐评一下原神</span>
<span class="line">chatbot<span class="token punctuation">:</span>原神怎么你了</span>
<span class="line">user<span class="token punctuation">:</span>你急了你急了</span>
<span class="line">chatbot<span class="token punctuation">:</span>你说的对，但是原神</span>
<span class="line">user<span class="token punctuation">:</span>这么喜欢原神？</span>
<span class="line">chatbot<span class="token punctuation">:</span>原神是一款自主研发的文明，在这里可以帮助你提出解决问题。游戏</span>
<span class="line">user<span class="token punctuation">:</span>说的什么意思</span>
<span class="line">chatbot<span class="token punctuation">:</span>原神我是认为，在一个喜欢的游戏时候。玩家都可以回答问题了，但</span>
<span class="line">user<span class="token punctuation">:</span>我是原批</span>
<span class="line">chatbot<span class="token punctuation">:</span>你这个是原友</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(由于语料是聊天记录，所以对话效果不免有些抽象🤣)</p><p>如果搭配一些QQbot的框架，即可实现群内对话(图中群友已<strong>脱敏处理</strong>，“<strong>初一</strong>”即为对话机器人）：</p><p><img src="`+r+'" alt="IMG_20230521_160416"></p><h2 id="🤖chatbot的关键技术" tabindex="-1"><a class="header-anchor" href="#🤖chatbot的关键技术"><span>🤖ChatBot的关键技术</span></a></h2><p>1）海量文本知识表示：网络文本资源获取、机器学习方法、大规模语义计算和推理、知识表示体系、知识库构建；</p><p>2）问句解析：中文分词、词性标注、实体标注、概念类别标注、句法分析、语义分析、逻辑结构标注、指代消解、关联关系标注、问句分类（简单问句还是复杂问句、实体型还是段落型还是篇章级问题）、答案类别确定；</p><p>3）答案生成与过滤：候选答案抽取、关系推演（并列关系还是递进关系还是因果关系）、吻合程度判断、噪声过滤</p><h2 id="🥬开胃小菜-基于情感词汇的中文情感计算" tabindex="-1"><a class="header-anchor" href="#🥬开胃小菜-基于情感词汇的中文情感计算"><span>🥬开胃小菜--基于情感词汇的中文情感计算</span></a></h2><blockquote><p>情感计算是一门备受关注的人工智能研究领域，其主要目标是赋予计算机情感能力。它涵盖两个核心方面：一是计算机的情感识别能力，即能够识别人类的情感；二是计算机的情感表达能力，即能够表达自身的情感。当前，国内外的情感计算研究主要集中在图像、声音、生理信号和文本等几个方面。</p></blockquote><p>​ 迄今为止，心理学领域尚未达成普遍认可的情感分类标准。情感的分类方式多种多样，这主要源于人类情感的复杂性和多变性，以及人们对情感的认知尚未达到足够深入和全面的程度。而我们都知道的中国传统的“七情”大致分为：好，恶，乐，怒，哀，惧，欲。</p><p>​ 这里参考了一片论文<a href="%E5%BE%90%E7%90%B3%E5%AE%8F,%E6%9E%97%E9%B8%BF%E9%A3%9E,%E6%BD%98%E5%AE%87,%E4%BB%BB%E6%83%A0,%E9%99%88%E5%BB%BA%E7%BE%8E.%E6%83%85%E6%84%9F%E8%AF%8D%E6%B1%87%E6%9C%AC%E4%BD%93%E7%9A%84%E6%9E%84%E9%80%A0.%E6%83%85%E6%8A%A5%E5%AD%A6%E6%8A%A5,2008,27(2):180-185">^1</a>的中文情感分类，首先将情感分为7大类,这是在国外比较有影响的 Ekman的6大类情感的基础上划分的。因为6大类情感中的积极情感只有“高兴&quot;一类,刻画得不够细致,然后又在&quot;乐&quot;的基础上增加了“好&quot;—类来描述喜好、喜欢类型的情感。同时这7大类情感也基本上与中国传统的&quot;七情&quot;说法一致，只是少了“欲”一类。这是因为在目前的语义资源中描述&quot;欲&quot;类的情感词汇较少,所以没有单独划分出来作为一大类。</p><p><img src="'+u+'" alt="image-20230521170331063"></p><p>​ 情感词汇本体通过一个三元组来描述：</p>',19),f=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"L"),s("mi",null,"e"),s("mi",null,"x"),s("mi",null,"i"),s("mi",null,"c"),s("mi",null,"o"),s("mi",null,"n"),s("mo",null,"="),s("mo",{stretchy:"false"},"("),s("mi",null,"B"),s("mo",{separator:"true"},","),s("mi",null,"R"),s("mo",{separator:"true"},","),s("mi",null,"E"),s("mo",{stretchy:"false"},")")]),s("annotation",{encoding:"application/x-tex"}," Lexicon = (B, R, E) ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal"},"L"),s("span",{class:"mord mathnormal"},"e"),s("span",{class:"mord mathnormal"},"x"),s("span",{class:"mord mathnormal"},"i"),s("span",{class:"mord mathnormal"},"co"),s("span",{class:"mord mathnormal"},"n"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E"),s("span",{class:"mclose"},")")])])])])],-1),M=s("p",null,[n("​ 其中，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"B")]),s("annotation",{encoding:"application/x-tex"},"B")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B")])])]),n("表示词汇的基本信息，主要包括编号、词条、对应英文、词性、录入者和版本信息。")],-1),B=s("p",null,[n("​ "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"R")]),s("annotation",{encoding:"application/x-tex"},"R")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.00773em"}},"R")])])]),n("代表词汇之间的同义关系，即表示该词汇与哪些词汇有同义的关系。")],-1),E=s("p",null,[n("​ "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"E")]),s("annotation",{encoding:"application/x-tex"},"E")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E")])])]),n("代表词汇的情感信息，是情感词汇描述框架中比较重要的一部分。")],-1),P=s("p",null,"​ 情感强度的计算首先需要两类资源，一个是标准词，另一个是大规模的语料库。标准词就是为20类情感的5个情感等级分别确定的一定量的标准词汇。通过计算词汇与每个等级的标准词汇在语料中的互信息（即共现概率）来初步确定情感强度，然后再对不合理的进行人工调整。这里采用的是点互信息(pointwise mutual information)，它的计算公式如下:",-1),C=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"I"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"W"),s("mi",null,"u")]),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"S"),s("mrow",null,[s("mi",null,"u"),s("mi",null,"i")])]),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("msub",null,[s("mrow",null,[s("mi",null,"log"),s("mo",null,"⁡")]),s("mn",null,"2")]),s("mfrac",null,[s("mrow",null,[s("mi",null,"P"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"W"),s("mi",null,"u")]),s("msub",null,[s("mi",null,"S"),s("mrow",null,[s("mi",null,"u"),s("mi",null,"i")])]),s("mo",{stretchy:"false"},")")]),s("mrow",null,[s("mi",null,"P"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"W"),s("mi",null,"u")]),s("mo",{stretchy:"false"},")"),s("mi",null,"P"),s("mo",{stretchy:"false"},"("),s("msub",null,[s("mi",null,"S"),s("mrow",null,[s("mi",null,"u"),s("mi",null,"i")])]),s("mo",{stretchy:"false"},")")])])]),s("annotation",{encoding:"application/x-tex"}," I(W_u,S_{ui})= \\log_2\\dfrac{P(W_uS_{ui})}{P(W_u)P(S_{ui})} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"u")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"u"),s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.363em","vertical-align":"-0.936em"}}),s("span",{class:"mop"},[s("span",{class:"mop"},[n("lo"),s("span",{style:{"margin-right":"0.01389em"}},"g")]),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.207em"}},[s("span",{style:{top:"-2.4559em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.2441em"}},[s("span")])])])])]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.427em"}},[s("span",{style:{top:"-2.314em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"u")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"u"),s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"u")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"u"),s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])]),s("span",{class:"mclose"},")")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.936em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})])])])])])],-1),q=s("p",null,[n("​ 其中，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"W"),s("mi",null,"u")])]),s("annotation",{encoding:"application/x-tex"},"W_u")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.1514em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.1389em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"u")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),n("表示包含"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"u")]),s("annotation",{encoding:"application/x-tex"},"u")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"u")])])]),n("类情感的词汇，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"S"),s("mrow",null,[s("mi",null,"u"),s("mi",null,"i")])])]),s("annotation",{encoding:"application/x-tex"},"S_{ui}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.3117em"}},[s("span",{style:{top:"-2.55em","margin-left":"-0.0576em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"u"),s("span",{class:"mord mathnormal mtight"},"i")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.15em"}},[s("span")])])])])])])])]),n("表示"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"u")]),s("annotation",{encoding:"application/x-tex"},"u")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"u")])])]),n("类情感的第"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"i")]),s("annotation",{encoding:"application/x-tex"},"i")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6595em"}}),s("span",{class:"mord mathnormal"},"i")])])]),n("个标准词。计算"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"W")]),s("annotation",{encoding:"application/x-tex"},"W")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W")])])]),n("与所有"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"u")]),s("annotation",{encoding:"application/x-tex"},"u")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"u")])])]),n("类情感的标准词汇之间的互信息，选择互信息最大的那个标准词的强度作为词汇"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"W")]),s("annotation",{encoding:"application/x-tex"},"W")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"W")])])]),n("在"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"u")]),s("annotation",{encoding:"application/x-tex"},"u")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.4306em"}}),s("span",{class:"mord mathnormal"},"u")])])]),n("类情感上的强度。")],-1),z=a(`<p>​ 通过论文中的情感词汇本体库，我们可以编写Python程序对一段话，或者是一个语料库进行情感的计算和标注。</p><h3 id="_1-先导入情感词汇本体的库文件" tabindex="-1"><a class="header-anchor" href="#_1-先导入情感词汇本体的库文件"><span>[1]先导入情感词汇本体的库文件</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"></span>
<span class="line">emo_path <span class="token operator">=</span> <span class="token string">r&#39;D:\\NLP-Project\\emo_calc\\data\\emotion.xlsx&#39;</span></span>
<span class="line">emotion <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span>path<span class="token punctuation">)</span></span>
<span class="line">emotion <span class="token operator">=</span> emotion<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;词语&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;词性种类&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;词义数&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;词义序号&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;情感分类&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;强度&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;极性&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">emotion<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+m+`" alt="image-20230521175948221"></p><h3 id="_2-整理一下情感词语" tabindex="-1"><a class="header-anchor" href="#_2-整理一下情感词语"><span>[2]整理一下情感词语</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line">Happy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">Good <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">Surprise <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">Anger <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">Sad <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">Fear <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">Disgust <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">categories <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&#39;PA&#39;</span><span class="token punctuation">:</span> Happy<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PE&#39;</span><span class="token punctuation">:</span> Happy<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PD&#39;</span><span class="token punctuation">:</span> Good<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PH&#39;</span><span class="token punctuation">:</span> Good<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PG&#39;</span><span class="token punctuation">:</span> Good<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PB&#39;</span><span class="token punctuation">:</span> Good<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PK&#39;</span><span class="token punctuation">:</span> Good<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PC&#39;</span><span class="token punctuation">:</span> Surprise<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NA&#39;</span><span class="token punctuation">:</span> Anger<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NB&#39;</span><span class="token punctuation">:</span> Sad<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NJ&#39;</span><span class="token punctuation">:</span> Sad<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NH&#39;</span><span class="token punctuation">:</span> Sad<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;PF&#39;</span><span class="token punctuation">:</span> Sad<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NI&#39;</span><span class="token punctuation">:</span> Fear<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NC&#39;</span><span class="token punctuation">:</span> Fear<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NG&#39;</span><span class="token punctuation">:</span> Fear<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NE&#39;</span><span class="token punctuation">:</span> Disgust<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;ND&#39;</span><span class="token punctuation">:</span> Disgust<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NN&#39;</span><span class="token punctuation">:</span> Disgust<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NK&#39;</span><span class="token punctuation">:</span> Disgust<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;NL&#39;</span><span class="token punctuation">:</span> Disgust</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> idx<span class="token punctuation">,</span> row <span class="token keyword">in</span> emotion<span class="token punctuation">.</span>iterrows<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    category <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token string">&#39;情感分类&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">if</span> category <span class="token keyword">in</span> categories<span class="token punctuation">:</span></span>
<span class="line">        categories<span class="token punctuation">[</span>category<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">&#39;词语&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">Positive <span class="token operator">=</span> Happy <span class="token operator">+</span> Good <span class="token operator">+</span> Surprise</span>
<span class="line">Negative <span class="token operator">=</span> Anger <span class="token operator">+</span> Sad <span class="token operator">+</span> Fear <span class="token operator">+</span> Disgust</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-情感计算的主函数" tabindex="-1"><a class="header-anchor" href="#_3-情感计算的主函数"><span>[3]情感计算的主函数</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter</span>
<span class="line"><span class="token keyword">from</span> jieba <span class="token keyword">import</span> lcut</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">emotion_calculate</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    emotions <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&#39;positive&#39;</span><span class="token punctuation">:</span> Positive<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;negative&#39;</span><span class="token punctuation">:</span> Negative<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;anger&#39;</span><span class="token punctuation">:</span> Anger<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;disgust&#39;</span><span class="token punctuation">:</span> Disgust<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;fear&#39;</span><span class="token punctuation">:</span> Fear<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;sadness&#39;</span><span class="token punctuation">:</span> Sad<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;surprise&#39;</span><span class="token punctuation">:</span> Surprise<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;good&#39;</span><span class="token punctuation">:</span> Good<span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;happy&#39;</span><span class="token punctuation">:</span> Happy</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    wordlist <span class="token operator">=</span> lcut<span class="token punctuation">(</span>text<span class="token punctuation">)</span></span>
<span class="line">    word_counts <span class="token operator">=</span> Counter<span class="token punctuation">(</span>wordlist<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    emotion_info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;length&#39;</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>wordlist<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> emotion<span class="token punctuation">,</span> wordset <span class="token keyword">in</span> emotions<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        frequency <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>word_counts<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token keyword">for</span> word <span class="token keyword">in</span> wordset <span class="token keyword">if</span> word <span class="token keyword">in</span> word_counts<span class="token punctuation">)</span></span>
<span class="line">        emotion_info<span class="token punctuation">[</span>emotion<span class="token punctuation">]</span> <span class="token operator">=</span> frequency</span>
<span class="line"></span>
<span class="line">    indexs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;length&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;positive&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;negative&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;anger&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;disgust&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;fear&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;sadness&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;surprise&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;good&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;happy&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">return</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>emotion_info<span class="token punctuation">,</span> index<span class="token operator">=</span>indexs<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-进行文章的情感计算" tabindex="-1"><a class="header-anchor" href="#_4-进行文章的情感计算"><span>[4]进行文章的情感计算</span></a></h3><p>（1）以《紫藤萝瀑布》为例，对其进行情感计算：</p><p><img src="`+d+'" alt="image-20230521202250709"></p><p><img src="'+h+'" alt="image-20230521202719903"></p><p>可以看出整体的情感是<strong>Positive</strong>占比大的</p><p>（2）以《在午夜，为你悲伤成河》为例，对其进行情感计算：</p><p><img src="'+k+'" alt="image-20230521204353342"></p><p><img src="'+v+`" alt="image-20230521204624865"></p><p>可以看出整体的情感是<strong>Negative</strong>占比大的</p><h3 id="_5-拓展-对语料库进行批量的情感计算与标注" tabindex="-1"><a class="header-anchor" href="#_5-拓展-对语料库进行批量的情感计算与标注"><span>[5]（拓展）对语料库进行批量的情感计算与标注</span></a></h3><p>这里我以MongoDB储存的聊天记录为例，实现读取聊天记录文本，然后进行情感计算与标注，输出<code>output.csv</code></p><p>(简化了部分预处理代码，且已做<strong>脱敏处理</strong>)</p><p><code>mongo.py</code></p><div class="language-Python line-numbers-mode" data-highlighter="prismjs" data-ext="Python" data-title="Python"><pre class="language-Python"><code><span class="line">from pymongo import MongoClient</span>
<span class="line">from pandarallel import pandarallel</span>
<span class="line">import time</span>
<span class="line"></span>
<span class="line"># 显示所有列</span>
<span class="line">pd.set_option(&#39;display.max_columns&#39;, None)</span>
<span class="line"># 显示所有行</span>
<span class="line">pd.set_option(&#39;display.max_rows&#39;, None)</span>
<span class="line"># 设置value的显示长度为100，默认为50</span>
<span class="line">pd.set_option(&#39;max_colwidth&#39;, 100)</span>
<span class="line"></span>
<span class="line">start = time.time()</span>
<span class="line"># 创建连接</span>
<span class="line">client = MongoClient(&#39;localhost&#39;, 27017)</span>
<span class="line">db = client.YOUR_DB  # 连接数据库</span>
<span class="line">collection = db.YOUR_COLLECTION  # 连接数据集合</span>
<span class="line">prelist = list(collection.find())</span>
<span class="line">msglist = [mesg[&#39;plain_text&#39;] for mesg in prelist] #这里是聊天记录列表</span>
<span class="line">message = pd.DataFrame(msglist, columns=[&#39;mesg&#39;])</span>
<span class="line">end = time.time()</span>
<span class="line">print(end - start)</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>main.py</code></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line"></span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"><span class="token keyword">import</span> time</span>
<span class="line"><span class="token keyword">import</span> mongo</span>
<span class="line"><span class="token keyword">import</span> emo_calc</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 并行计算</span></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    WORKERS <span class="token operator">=</span> <span class="token number">2</span>    </span>
<span class="line">    pandarallel<span class="token punctuation">.</span>initialize<span class="token punctuation">(</span>progress_bar<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> nb_workers<span class="token operator">=</span>WORKERS<span class="token punctuation">)</span></span>
<span class="line">    start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    emotion_df <span class="token operator">=</span> mongo<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token string">&#39;mesg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parallel_apply<span class="token punctuation">(</span>emo_calc<span class="token punctuation">.</span>emotion_caculate<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># emotion_df = mongo.message[&#39;mesg&#39;].apply(emo_calc.emotion_caculate)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>mongo<span class="token punctuation">.</span>message<span class="token punctuation">[</span><span class="token string">&#39;mesg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    end <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&#39;s&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    output_df <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>mongo<span class="token punctuation">.</span>message<span class="token punctuation">,</span> emotion_df<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">    output_df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">&#39;output.csv&#39;</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+'" alt="image-20230521205636665"></p><h3 id="_6-搭配qqbot的框架对群聊内容在线情感分析" tabindex="-1"><a class="header-anchor" href="#_6-搭配qqbot的框架对群聊内容在线情感分析"><span>[6]搭配QQbot的框架对群聊内容在线情感分析</span></a></h3><img src="'+b+'" alt="image-20230521215638791" style="zoom:50%;"><h2 id="🥗小吃一口-基于word2vec的文本分析应用" tabindex="-1"><a class="header-anchor" href="#🥗小吃一口-基于word2vec的文本分析应用"><span>🥗小吃一口--基于Word2Vec的文本分析应用</span></a></h2><blockquote><p>当提到词嵌入或词向量时，大家会立刻联想到基于词向量进行词语拓展、文本向量化等应用。然而，实际上，词向量是一项与文本分析结合的工具或方法，可以开展许多有趣的工作。因此，本文的重点是从三个角度出发，即词嵌入的常规应用和八类用法、结合社会计算的常规词嵌入应用以及词嵌入对社会计算的概览。我们将介绍词向量（嵌入）在基本应用、技术特性以及人文社会计算领域中的使用场景，以供大家参考。(本篇参考论文：[^2][^3])</p></blockquote><h3 id="_1-skip-gram网络结构" tabindex="-1"><a class="header-anchor" href="#_1-skip-gram网络结构"><span>[1]Skip-gram网络结构</span></a></h3><p><img src="'+y+'" alt="image-20230521212825712"></p><h3 id="_2-word2vec数据导入" tabindex="-1"><a class="header-anchor" href="#_2-word2vec数据导入"><span>[2]Word2Vec数据导入</span></a></h3>',32),S={href:"http://ai.tencent.com/ailab/",target:"_blank",rel:"noopener noreferrer"},N=a(`<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line"><span class="token keyword">from</span> gensim<span class="token punctuation">.</span>models <span class="token keyword">import</span> KeyedVectors</span>
<span class="line"><span class="token keyword">import</span> time</span>
<span class="line"></span>
<span class="line">start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">wv_from_text <span class="token operator">=</span> KeyedVectors<span class="token punctuation">.</span>load_word2vec_format<span class="token punctuation">(</span><span class="token string">&#39;TC_Model2.bin&#39;</span><span class="token punctuation">,</span>binary<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>start<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-相似度计算" tabindex="-1"><a class="header-anchor" href="#_3-相似度计算"><span>[3]相似度计算</span></a></h3><div class="language-Python line-numbers-mode" data-highlighter="prismjs" data-ext="Python" data-title="Python"><pre class="language-Python"><code><span class="line">wv.similarity(&#39;国王&#39;,&#39;王后&#39;)</span>
<span class="line"># 0.8485498 相似度高</span>
<span class="line">wv.similarity(&#39;国王&#39;,&#39;王子&#39;)</span>
<span class="line"># 0.81078386 相似度高</span>
<span class="line">wv.similarity(&#39;钱&#39;,&#39;黑板&#39;)</span>
<span class="line"># 0.19248267 相似度低</span>
<span class="line">wv.similarity(&#39;沙子&#39;,&#39;土壤&#39;)</span>
<span class="line"># 0.69350255 相似度适中</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-近义词分析" tabindex="-1"><a class="header-anchor" href="#_4-近义词分析"><span>[4]近义词分析</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line">wv<span class="token punctuation">.</span>most_similar<span class="token punctuation">(</span><span class="token string">&#39;国王&#39;</span><span class="token punctuation">,</span>topn<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># [(&#39;帝国皇帝&#39;, 0.8872873783111572), (&#39;君主&#39;, 0.8842490911483765), (&#39;酋长&#39;, 0.8768572211265564), (&#39;新国王&#39;, 0.8713781833648682), (&#39;国王陛下&#39;, 0.8662869930267334), (&#39;亲王&#39;, 0.8610170483589172)]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-找出不合群词" tabindex="-1"><a class="header-anchor" href="#_5-找出不合群词"><span>[5]找出不合群词</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line">wv<span class="token punctuation">.</span>doesnt_match<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;喜悦&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;悲伤&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;愤怒&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;吃饭&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 吃饭</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-词向量加减" tabindex="-1"><a class="header-anchor" href="#_6-词向量加减"><span>[6]词向量加减</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py" data-title="py"><pre class="language-python"><code><span class="line">wv<span class="token punctuation">.</span>most_similar<span class="token punctuation">(</span>positive<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;丈夫&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;老公&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>negative<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;妻子&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 老婆:0.913388	&#39;丈夫&#39;+&#39;老公&#39;-&#39;妻子&#39; = &#39;老婆&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-拓展-搭配qqbot框架实现在线词向量加减" tabindex="-1"><a class="header-anchor" href="#_7-拓展-搭配qqbot框架实现在线词向量加减"><span>[7]（拓展）搭配QQbot框架实现在线词向量加减</span></a></h3><p><img src="`+_+'" alt="IMG_20230522_185228"></p><h2 id="🍚正餐-基于gpt-2模型的chatbot" tabindex="-1"><a class="header-anchor" href="#🍚正餐-基于gpt-2模型的chatbot"><span>🍚正餐--基于GPT-2模型的ChatBot</span></a></h2><p>[^2]:Quoc V. Le, Tomas Mikolov. Distributed Representations of Sentences and Documents [^3]:Tomas Mikolov, Kai Chen, Greg Corrado, Jeffrey Dean. Efficient estimation of word representations in vector space</p>',13);function L(D,A){const t=l("ExternalLinkIcon");return p(),i("div",null,[x,f,M,B,E,P,C,q,z,s("p",null,[n("本文所用数据为"),s("a",S,[n("腾讯人工智能实验室"),c(t)]),n("提供的词向量数据，使用gensim进行快速调用")]),N])}const W=e(w,[["render",L],["__file","chutanChatBotkaifa.html.vue"]]),j=JSON.parse(`{"path":"/blogs/jishu/chutanChatBotkaifa.html","title":"初探ChatBot开发🚧","lang":"zh-CN","frontmatter":{"title":"初探ChatBot开发🚧","katex":true,"tags":["AI","NLP"],"categories":["技术"],"date":"2023/05/17","layout":"GlobalLayout","description":"一方水土养一方人，抽象话养抽象机器人🤣 初探聊天机器人开发，实现学习群聊记录，进行群聊天😋 image-20230730180625124 🚧施工中，本页面还未完成（咕咕 🤖ChatBot的可行性 这是一个基于GPT-2模型的Chatbot，语料是经过清洗的我的某些群聊记录，下面是几则对话记录： (由于语料是聊天记录，所以对话效果不免有些抽象\\ud83e...","head":[["meta",{"property":"og:url","content":"https://sakee.cn/blogs/jishu/chutanchatbotkaifa.html"}],["meta",{"property":"og:site_name","content":"sake's blog"}],["meta",{"property":"og:title","content":"初探ChatBot开发🚧"}],["meta",{"property":"og:description","content":"一方水土养一方人，抽象话养抽象机器人🤣 初探聊天机器人开发，实现学习群聊记录，进行群聊天😋 image-20230730180625124 🚧施工中，本页面还未完成（咕咕 🤖ChatBot的可行性 这是一个基于GPT-2模型的Chatbot，语料是经过清洗的我的某些群聊记录，下面是几则对话记录： (由于语料是聊天记录，所以对话效果不免有些抽象\\ud83e..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"fullstacksake"}],["meta",{"property":"article:tag","content":"AI"}],["meta",{"property":"article:tag","content":"NLP"}],["meta",{"property":"article:published_time","content":"2023-05-16T16:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"初探ChatBot开发🚧\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-05-16T16:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"fullstacksake\\",\\"email\\":\\"fullstacksake@outlook.com\\"}]}"]]},"headers":[{"level":2,"title":"🤖ChatBot的可行性","slug":"🤖chatbot的可行性","link":"#🤖chatbot的可行性","children":[]},{"level":2,"title":"🤖ChatBot的关键技术","slug":"🤖chatbot的关键技术","link":"#🤖chatbot的关键技术","children":[]},{"level":2,"title":"🥬开胃小菜--基于情感词汇的中文情感计算","slug":"🥬开胃小菜-基于情感词汇的中文情感计算","link":"#🥬开胃小菜-基于情感词汇的中文情感计算","children":[{"level":3,"title":"[1]先导入情感词汇本体的库文件","slug":"_1-先导入情感词汇本体的库文件","link":"#_1-先导入情感词汇本体的库文件","children":[]},{"level":3,"title":"[2]整理一下情感词语","slug":"_2-整理一下情感词语","link":"#_2-整理一下情感词语","children":[]},{"level":3,"title":"[3]情感计算的主函数","slug":"_3-情感计算的主函数","link":"#_3-情感计算的主函数","children":[]},{"level":3,"title":"[4]进行文章的情感计算","slug":"_4-进行文章的情感计算","link":"#_4-进行文章的情感计算","children":[]},{"level":3,"title":"[5]（拓展）对语料库进行批量的情感计算与标注","slug":"_5-拓展-对语料库进行批量的情感计算与标注","link":"#_5-拓展-对语料库进行批量的情感计算与标注","children":[]},{"level":3,"title":"[6]搭配QQbot的框架对群聊内容在线情感分析","slug":"_6-搭配qqbot的框架对群聊内容在线情感分析","link":"#_6-搭配qqbot的框架对群聊内容在线情感分析","children":[]}]},{"level":2,"title":"🥗小吃一口--基于Word2Vec的文本分析应用","slug":"🥗小吃一口-基于word2vec的文本分析应用","link":"#🥗小吃一口-基于word2vec的文本分析应用","children":[{"level":3,"title":"[1]Skip-gram网络结构","slug":"_1-skip-gram网络结构","link":"#_1-skip-gram网络结构","children":[]},{"level":3,"title":"[2]Word2Vec数据导入","slug":"_2-word2vec数据导入","link":"#_2-word2vec数据导入","children":[]},{"level":3,"title":"[3]相似度计算","slug":"_3-相似度计算","link":"#_3-相似度计算","children":[]},{"level":3,"title":"[4]近义词分析","slug":"_4-近义词分析","link":"#_4-近义词分析","children":[]},{"level":3,"title":"[5]找出不合群词","slug":"_5-找出不合群词","link":"#_5-找出不合群词","children":[]},{"level":3,"title":"[6]词向量加减","slug":"_6-词向量加减","link":"#_6-词向量加减","children":[]},{"level":3,"title":"[7]（拓展）搭配QQbot框架实现在线词向量加减","slug":"_7-拓展-搭配qqbot框架实现在线词向量加减","link":"#_7-拓展-搭配qqbot框架实现在线词向量加减","children":[]}]},{"level":2,"title":"🍚正餐--基于GPT-2模型的ChatBot","slug":"🍚正餐-基于gpt-2模型的chatbot","link":"#🍚正餐-基于gpt-2模型的chatbot","children":[]}],"git":{},"filePathRelative":"blogs/技术/初探ChatBot开发.md","autoDesc":true}`);export{W as comp,j as data};
